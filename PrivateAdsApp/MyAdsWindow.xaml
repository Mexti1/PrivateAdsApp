<Window x:Class="PrivateAdsApp.Windows.MyAdsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Мои объявления" Height="700" Width="1200" WindowStartupLocation="CenterScreen"
        >
    <Grid Background="{StaticResource BackgroundColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="{StaticResource SurfaceColor}" Padding="20,15" BorderBrush="{StaticResource BorderColor}" BorderThickness="0,0,0,2">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="2" BlurRadius="12" Opacity="0.2" Direction="270"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Image Source="/Resources/vozvrat-tovara.png" Width="60" Margin="0,0,20,0" Grid.Column="0"/>
                <TextBlock Text="Мои объявления"
                          Style="{StaticResource HeaderTextBlock}"
                          Grid.Column="1"
                          HorizontalAlignment="Left"/>
                <Button Content="Назад"
                       Grid.Column="2"
                       Width="120"
                       Height="40"
                       Style="{StaticResource PrimaryButton}"
                       Click="BtnBack_Click"/>
            </Grid>
        </Border>

        <!-- Список моих объявлений -->
        <ListView x:Name="LvMyAds"
                 Grid.Row="1"
                 Margin="20"
                 Style="{StaticResource ModernListView}"
                 ItemContainerStyle="{StaticResource ModernListViewItem}"
                 SelectionChanged="LvMyAds_SelectionChanged">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Фото" Width="120">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Border CornerRadius="4" Width="100" Height="100" ClipToBounds="True">
                                    <Image Source="{Binding PhotoPath, FallbackValue=/Resources/vozvrat-tovara.png}" Stretch="UniformToFill"/>
                                </Border>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Заголовок" DisplayMemberBinding="{Binding Title}" Width="350"/>
                    <GridViewColumn Header="Цена" Width="120">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Price, StringFormat={}{0:N0} ₽}"
                                          FontWeight="SemiBold"
                                          Foreground="{StaticResource SuccessColor}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Статус" DisplayMemberBinding="{Binding AdStatus.StatusName}" Width="120"/>
                    <GridViewColumn Header="Дата" DisplayMemberBinding="{Binding PostDate, StringFormat=dd.MM.yyyy}" Width="100"/>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Кнопки управления -->
        <Border Grid.Row="2"
                Background="{StaticResource SurfaceColor}"
                Padding="20,15"
                Margin="20,0,20,20">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="1" BlurRadius="8" Opacity="0.1" Direction="270"/>
            </Border.Effect>
            <WrapPanel HorizontalAlignment="Center">
                <Button Content="Добавить объявление"
                       Width="180"
                       Height="40"
                       Margin="5"
                       Style="{StaticResource PrimaryButton}"
                       Click="BtnAdd_Click"/>
                <Button x:Name="BtnEdit"
                       Content="Редактировать"
                       Width="140"
                       Height="40"
                       Margin="5"
                       Style="{StaticResource PrimaryButton}"
                       Background="{StaticResource WarningColor}"
                       IsEnabled="False"
                       Click="BtnEdit_Click"/>
                <Button x:Name="BtnDelete"
                       Content="Удалить"
                       Width="110"
                       Height="40"
                       Margin="5"
                       Style="{StaticResource DangerButton}"
                       IsEnabled="False"
                       Click="BtnDelete_Click"/>
                <Button Content="Завершённые объявления"
                       Width="210"
                       Height="40"
                       Margin="5"
                       Style="{StaticResource SecondaryButton}"
                       Click="BtnCompleted_Click"/>
            </WrapPanel>
        </Border>
    </Grid>
</Window>